<!DOCTYPE html>
<html>
<head>
    <title>Snake Game</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        #game-container {
            text-align: center;
        }

        #game-board {
            position: relative;
            width: 400px;
            height: 400px;
            border: 1px solid black;
            margin: 0 auto;
        }

        .cell {
            position: absolute;
            width: 20px;
            height: 20px;
        }

        .snake {
            background-color: green;
        }

        .food {
            background-color: red;
        }

        #score-container {
            margin-top: 20px;
        }

        #score {
            font-size: 20px;
        }

        #high-score {
            font-size: 16px;
            margin-top: 10px;
        }

        #reset-button {
            margin-top: 20px;
            display: none;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>Snake Game</h1>
        <p>Use arrow keys to control the snake.</p>
        <div id="game-board"></div>

        <div id="score-container">
            <p id="score">Score: 0</p>
            <p id="high-score">High Score: 0</p>
            <button id="reset-button">Reset</button>
        </div>
    </div>

    <script>
        // Game variables
        var canvasSize = 400;
        var cellSize = 20;
        var direction = "right";
        var snake = [
            { x: 4, y: 0 },
            { x: 3, y: 0 },
            { x: 2, y: 0 },
            { x: 1, y: 0 },
            { x: 0, y: 0 }
        ];
        var food = { x: 8, y: 8 };
        var score = 0;
        var highScore = 0;
        var gameLoop;
        var resetButton = document.getElementById("reset-button");

        // Create game board
        var gameBoard = document.getElementById("game-board");
        gameBoard.style.width = canvasSize + "px";
        gameBoard.style.height = canvasSize + "px";

        // Initialize snake
        for (var i = 0; i < snake.length; i++) {
            var snakeCell = document.createElement("div");
            snakeCell.className = "cell snake";
            snakeCell.style.left = snake[i].x * cellSize + "px";
            snakeCell.style.top = snake[i].y * cellSize + "px";
            gameBoard.appendChild(snakeCell);
        }

        // Initialize food
        var foodCell = createFoodCell(food.x, food.y);
        gameBoard.appendChild(foodCell);

        // Handle keyboard input
        document.addEventListener("keydown", function(event) {
            if (event.key === "ArrowUp" && direction !== "down") {
                direction = "up";
            } else if (event.key === "ArrowDown" && direction !== "up") {
                direction = "down";
            } else if (event.key === "ArrowLeft" && direction !== "right") {
                direction = "left";
            } else if (event.key === "ArrowRight" && direction !== "left") {
                direction = "right";
            }
        });

        // Reset game
        function resetGame() {
            clearInterval(gameLoop);
            snake = [
                { x: 4, y: 0 },
                { x: 3, y: 0 },
                { x: 2, y: 0 },
                { x: 1, y: 0 },
                { x: 0, y: 0 }
            ];
            direction = "right";
            score = 0;
            document.getElementById("score").textContent = "Score: " + score;

            // Remove snake and food cells
            var snakeCells = document.querySelectorAll(".snake");
            for (var i = 0; i < snakeCells.length; i++) {
                gameBoard.removeChild(snakeCells[i]);
            }

            gameBoard.removeChild(foodCell);

            // Initialize snake
            for (var i = 0; i < snake.length; i++) {
                var snakeCell = document.createElement("div");
                snakeCell.className = "cell snake";
                snakeCell.style.left = snake[i].x * cellSize + "px";
                snakeCell.style.top = snake[i].y * cellSize + "px";
                gameBoard.appendChild(snakeCell);
            }

            // Initialize food
            food = { x: 8, y: 8 };
            foodCell = createFoodCell(food.x, food.y);
            gameBoard.appendChild(foodCell);

            resetButton.style.display = "none";
            gameLoop = setInterval(moveSnake, 200);
        }

        // Handle reset button click
        resetButton.addEventListener("click", function() {
            resetGame();
        });

        // Game loop
        gameLoop = setInterval(moveSnake, 200);

        function moveSnake() {
            // Update snake position
            var head = { x: snake[0].x, y: snake[0].y };

            if (direction === "up") {
                head.y--;
            } else if (direction === "down") {
                head.y++;
            } else if (direction === "left") {
                head.x--;
            } else if (direction === "right") {
                head.x++;
            }

            snake.unshift(head);

            // Check collision with food
            if (head.x === food.x && head.y === food.y) {
                // Increase score
                score++;
                document.getElementById("score").textContent = "Score: " + score;

                // Update high score
                if (score > highScore) {
                    highScore = score;
                    document.getElementById("high-score").textContent = "High Score: " + highScore;
                }

                // Remove food element
                gameBoard.removeChild(foodCell);

                // Generate new food position
                food.x = Math.floor(Math.random() * (canvasSize / cellSize));
                food.y = Math.floor(Math.random() * (canvasSize / cellSize));

                // Create new food element
                foodCell = createFoodCell(food.x, food.y);
                gameBoard.appendChild(foodCell);

                // Add new snake segment
                var newSnakeCell = document.createElement("div");
                newSnakeCell.className = "cell snake";
                newSnakeCell.style.left = head.x * cellSize + "px";
                newSnakeCell.style.top = head.y * cellSize + "px";
                gameBoard.appendChild(newSnakeCell);
            } else {
                snake.pop();
            }

            // Check collision with walls or self
            if (
                head.x < 0 ||
                head.y < 0 ||
                head.x >= canvasSize / cellSize ||
                head.y >= canvasSize / cellSize ||
                checkCollision(head)
            ) {
                // Game over
                clearInterval(gameLoop);
                if (score > highScore) {
                    highScore = score;
                    document.getElementById("high-score").textContent = "High Score: " + highScore;
                }
                resetButton.style.display = "block";
            }

            // Update snake cells position
            var snakeCells = document.querySelectorAll(".snake");
            for (var i = 0; i < snakeCells.length; i++) {
                var cell = snakeCells[i];
                cell.style.left = snake[i].x * cellSize + "px";
                cell.style.top = snake[i].y * cellSize + "px";
            }
        }

        // Function to check collision with self
        function checkCollision(head) {
            for (var i = 1; i < snake.length; i++) {
                if (head.x === snake[i].x && head.y === snake[i].y) {
                    return true;
                }
            }
            return false;
        }

        // Function to create food cell element
        function createFoodCell(x, y) {
            var foodCell = document.createElement("div");
            foodCell.className = "cell food";
            foodCell.style.left = x * cellSize + "px";
            foodCell.style.top = y * cellSize + "px";
            return foodCell;
        }
    </script>
</body>
</html>
